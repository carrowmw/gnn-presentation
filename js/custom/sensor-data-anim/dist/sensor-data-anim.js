var SensorAnim=(()=>{(function(){console.debug("[SensorAnim] bundle executing");let O="js/custom/sensor-data-anim/data/animation_data.geojson",X=new Map,c=null;function re(){if(document.getElementById("sensor-anim-styles"))return;let t=document.createElement("style");t.id="sensor-anim-styles",t.textContent=`
      .sensor-anim-root { display: grid; grid-template-rows: auto 1fr auto; gap: 6px; height: 100%; font-family: var(--r-main-font, system-ui, -apple-system, Segoe UI, Roboto, sans-serif); color: var(--r-main-color, #222); }
      .sensor-anim-controls { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; background: rgba(255,255,255,0.7); padding: 6px 8px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); font-size: 12px; }
      .sensor-anim-controls .btn { padding: 6px 10px; border: 0; border-radius: 6px; background: #ef4444; color: #fff; font-weight: 600; cursor: pointer; }
      .sensor-anim-controls .btn[aria-pressed="true"] { background: #f97316; }
      .sensor-anim-controls .btn:disabled { opacity: 0.6; cursor: not-allowed; }
      .sensor-anim-controls .group { display: inline-flex; align-items: center; gap: 4px; }
      .sensor-anim-controls input[type="range"] { width: 260px; }
      .sensor-anim-canvas-wrap { position: relative; background: #fafafa; border-radius: 10px; overflow: hidden; box-shadow: inset 0 0 0 1px rgba(0,0,0,0.05); }
      .sensor-anim-overlay { position: absolute; left: 8px; top: 8px; background: rgba(255,255,255,0.85); padding: 4px 8px; border-radius: 6px; font-size: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
      .sensor-anim-legend { display: flex; align-items: center; gap: 16px; background: rgba(255,255,255,0.7); padding: 6px 10px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); font-size: 12px; }
      .legend-gradient { width: 160px; height: 12px; border-radius: 999px; background: linear-gradient(90deg, #fde047 0%, #f59e0b 50%, #ef4444 100%); box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1); }
      .legend-item { display: inline-flex; align-items: center; gap: 6px; }
      .legend-x { width: 14px; height: 14px; position: relative; }
      .legend-x::before, .legend-x::after { content: ""; position: absolute; left: 6px; top: 1px; width: 2px; height: 12px; background: #9ca3af; border-radius: 1px; }
      .legend-x::before { transform: rotate(45deg); }
      .legend-x::after { transform: rotate(-45deg); }
      .sensor-anim-mount { width: 80%; height: 100%; align-self: center; justify-self: center;}
    `,document.head.appendChild(t)}async function le(){if(c)return c;console.debug("[SensorAnim] loadData: fetching",O);let t=await fetch(O);if(!t.ok)throw console.error("[SensorAnim] fetch failed",t.status,t.statusText),new Error(`Failed to load ${O}: ${t.status}`);let o=await t.json();console.debug("[SensorAnim] loadData: features",Array.isArray(o.features)?o.features.length:0);let n=new Map,m=new Map,i=1/0,h=-1/0,f=1/0,y=-1/0,x=1/0,g=-1/0,w=o.features||[];for(let u of w){let l=u.properties||{},d=u.geometry||{},b=String(l.dt),A=(d.coordinates&&d.coordinates[0])??l.lon,e=(d.coordinates&&d.coordinates[1])??l.lat,v=Number(A),M=Number(e),I=typeof l.value=="number"?l.value:Number(l.value),P=isFinite(v)?Number(v.toFixed(6)):null,E=isFinite(M)?Number(M.toFixed(6)):null,B=P!==null&&E!==null?`${P},${E}`:`${A},${e}`;n.has(b)||n.set(b,[]),n.get(b).push({lon:v,lat:M,value:I,sensorKey:B}),!m.has(B)&&isFinite(v)&&isFinite(M)&&m.set(B,{lon:v,lat:M}),isFinite(v)&&isFinite(M)&&(i=Math.min(i,v),h=Math.max(h,v),f=Math.min(f,M),y=Math.max(y,M)),typeof I=="number"&&I>=0&&(x=Math.min(x,I),g=Math.max(g,I))}let S=Array.from(n.keys()).sort((u,l)=>new Date(u)-new Date(l));if(console.debug("[SensorAnim] loadData: unique timestamps",S.length),(!isFinite(x)||!isFinite(g))&&(x=0,g=1),!isFinite(i)||!isFinite(h)||!isFinite(f)||!isFinite(y))for(let u of m.values())!isFinite(u.lon)||!isFinite(u.lat)||(i=Math.min(i,u.lon),h=Math.max(h,u.lon),f=Math.min(f,u.lat),y=Math.max(y,u.lat));return c={frames:n,times:S,bbox:{minLon:i,maxLon:h,minLat:f,maxLat:y},minVal:x,maxVal:g,sensors:m},c}function Z(t,o,n,m=24){let i=t.maxLon-t.minLon||1,h=t.maxLat-t.minLat||1,f=Math.max(1,o-2*m),y=Math.max(1,n-2*m),x=f/i,g=y/h,w=Math.min(x,g),S=f-w*i,u=y-w*h,l=m+S/2,d=m+u/2;return{x:b=>l+(b-t.minLon)*w,y:b=>n-(d+(b-t.minLat)*w)}}function ce(t,o,n){return t+(o-t)*n}function Q(t){return Math.max(0,Math.min(1,t))}function de(t,o,n){if(n<=o)return"#ef4444";let m=Q((t-o)/(n-o));return"hsl("+ce(50,0,m)+",95%,50%)"}function V(t,o,n){let i=256*Math.pow(2,n),h=(t+180)/360*i,f=o*Math.PI/180,y=(.5-Math.log(Math.tan(f)+1/Math.cos(f))/(2*Math.PI))*i;return{x:h,y}}function me(t,o,n,m=18,i=2){let f=Math.max(1,o-64),y=Math.max(1,n-32*2),x=i,g=m,w=i;for(let S=0;S<24;S++){let u=(x+g)/2,l=V(t.minLon,t.minLat,u),d=V(t.maxLon,t.maxLat,u),b=Math.abs(d.x-l.x),A=Math.abs(d.y-l.y);b<=f&&A<=y?(w=u,x=u):g=u}return Math.floor(w)}function Y(t,o){return Math.floor((t+180)/360*Math.pow(2,o))}function j(t,o){let n=t*Math.PI/180;return Math.floor((1-Math.log(Math.tan(n)+1/Math.cos(n))/Math.PI)/2*Math.pow(2,o))}function ee(t,o){return t/Math.pow(2,o)*360-180}function te(t,o){let n=Math.PI-2*Math.PI*t/Math.pow(2,o);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function H(){if(!c)return null;let t=1/0,o=-1/0,n=1/0,m=-1/0;for(let{lon:i,lat:h}of c.sensors.values())!isFinite(i)||!isFinite(h)||(t=Math.min(t,i),o=Math.max(o,i),n=Math.min(n,h),m=Math.max(m,h));return!isFinite(t)||!isFinite(o)||!isFinite(n)||!isFinite(m)?null:{minLon:t,maxLon:o,minLat:n,maxLat:m}}function Se(t,o,n,m,i,h){if(!o||!n)return;let f=(l,d=6)=>{let b=l/d,A=Math.pow(10,Math.floor(Math.log10(Math.max(b,1e-12)))),e=b/A,v=1;return e>=5?v=5:e>=2?v=2:v=1,v*A},y=n.maxLon-n.minLon||1,x=n.maxLat-n.minLat||1,g=f(y,6),w=f(x,6);t.save(),t.strokeStyle="rgba(2,6,23,0.12)",t.lineWidth=1;let S=Math.ceil(n.minLon/g)*g;for(let l=S;l<=n.maxLon+1e-12;l+=g){let d=o.x(l);t.beginPath(),t.moveTo(d,o.y(n.minLat)),t.lineTo(d,o.y(n.maxLat)),t.stroke()}let u=Math.ceil(n.minLat/w)*w;for(let l=u;l<=n.maxLat+1e-12;l+=w){let d=o.y(l);t.beginPath(),t.moveTo(o.x(n.minLon),d),t.lineTo(o.x(n.maxLon),d),t.stroke()}t.fillStyle="#334155",t.font="10px system-ui, -apple-system, Segoe UI, Roboto, sans-serif",t.textAlign="center",t.textBaseline="top";for(let l=S;l<=n.maxLon+1e-12;l+=g){let d=o.x(l),b=l.toFixed(Math.max(0,-Math.floor(Math.log10(g))))+"\xB0";t.fillText(b,d,Math.min(i-12,o.y(n.minLat)+4))}t.textAlign="right",t.textBaseline="middle";for(let l=u;l<=n.maxLat+1e-12;l+=w){let d=o.y(l),b=l.toFixed(Math.max(0,-Math.floor(Math.log10(w))))+"\xB0";t.fillText(b,Math.max(0,o.x(n.minLon)-6),d)}t.restore()}function ue(t,o,n,m,i,h,f){let y=3*h,x=14*h,g=2*h,w=i>m?i-m:1,S=Math.log1p(Math.max(0,m)),u=Math.log1p(Math.max(0,i)),l=u>S?u-S:1;for(let d of n){let b=d.lon,A=d.lat,e=o.x(b),v=o.y(A);if(d.value<0)t.strokeStyle="#9ca3af",t.lineWidth=1.5*h,t.beginPath(),t.moveTo(e-g,v-g),t.lineTo(e+g,v+g),t.moveTo(e+g,v-g),t.lineTo(e-g,v+g),t.stroke();else{let M;f?M=(Math.log1p(Math.max(0,d.value))-S)/l:M=(d.value-m)/w;let I=y+Q(M)*(x-y),P=de(f?Math.log1p(Math.max(0,d.value)):d.value,f?S:m,f?u:i);t.fillStyle=P,t.beginPath(),t.arc(e,v,I,0,Math.PI*2),t.fill(),t.strokeStyle="rgba(255,255,255,0.9)",t.lineWidth=1.5*h,t.stroke()}}}function pe(t){console.debug("[SensorAnim] mount called with",t);let o=typeof t=="string"?document.querySelector(t):t;if(!o)return console.error("[SensorAnim] mount: container not found",t),null;if(console.debug("[SensorAnim] mount: container found",o),X.has(o))return X.get(o);re(),o.classList.add("sensor-anim-mount"),o.innerHTML=`
      <div class="sensor-anim-root">
        <div class="sensor-anim-controls">
          <button class="btn" data-role="play">Play</button>
          <div class="group">
            <label>Time:</label>
            <input type="range" min="0" max="0" value="0" step="1" data-role="slider" />
            <span data-role="time-label">--</span>
          </div>
          <div class="group">
            <label>Speed:</label>
            <select data-role="speed">
              <option value="1">1\xD7</option>
              <option value="2">2\xD7</option>
              <option value="4" selected>4\xD7</option>
              <option value="8">8\xD7</option>
              <option value="16">16\xD7</option>
            </select>
          </div>
          <div class="group">
            <label><input type="checkbox" data-role="basemap" checked /> Basemap</label>
          </div>
          <div class="group">
            <label>Style:</label>
            <select data-role="style">
              <option value="light_nolabels" selected>Light (no labels)</option>
              <option value="light_all">Light (labels)</option>
              <option value="dark_all">Dark</option>
              <option value="voyager">Voyager</option>
            </select>
          </div>
          <div class="group">
            <label><input type="checkbox" data-role="tile-outlines" /> Tile outlines</label>
          </div>
          <div class="group">
            <label><input type="checkbox" data-role="sensors" /> Sensors</label>
          </div>
          <div class="group">
            <label><input type="checkbox" data-role="log-scale" /> Log scale</label>
          </div>
          <div class="group">
            <label><input type="checkbox" data-role="console-toggle" /> Debug logs</label>
          </div>
        </div>
        <div class="sensor-anim-canvas-wrap">
          <canvas></canvas>
          <div class="sensor-anim-overlay" data-role="overlay">Loading\u2026</div>
          <div class="sensor-anim-overlay" style="right:8px; left:auto; bottom:8px; top:auto; opacity:0.9">\xA9 OpenStreetMap contributors</div>
          <div class="sensor-anim-overlay" data-role="console" style="right:8px; left:auto; top:8px; bottom:auto; max-width: 50%; max-height: 45%; overflow:auto; font-family: ui-monospace, Menlo, monospace; white-space: pre-wrap; opacity: 0.95; display:none"></div>
        </div>
        <div class="sensor-anim-legend">
          <div class="legend-item"><div class="legend-gradient"></div><span>Low \u2192 High activity</span></div>
          <div class="legend-item"><div class="legend-x"></div><span>Missing (value = -1)</span></div>
        </div>
      </div>
    `;let n=o.querySelector("canvas");n||console.error("[SensorAnim] mount: canvas not found in container");let m=o.querySelector('[data-role="overlay"]'),i=o.querySelector('[data-role="console"]'),h=o.querySelector(".sensor-anim-canvas-wrap"),f=o.querySelector('[data-role="slider"]'),y=o.querySelector('[data-role="time-label"]'),x=o.querySelector('[data-role="play"]'),g=o.querySelector('[data-role="speed"]'),w=o.querySelector('[data-role="grid"]'),S=o.querySelector('[data-role="basemap"]'),u=o.querySelector('[data-role="style"]'),l=o.querySelector('[data-role="tile-outlines"]'),d=o.querySelector('[data-role="sensors"]'),b=o.querySelector('[data-role="log-scale"]'),A=o.querySelector('[data-role="console-toggle"]'),e={playing:!1,speed:1,index:0,rafId:0,lastTs:0,msPerFrameBase:500,scaler:null,dpr:Math.max(1,Math.min(2,window.devicePixelRatio||1)),showBasemap:!0,showSensors:!1,logScale:!1,tiles:{zoom:0,minX:0,maxX:-1,minY:0,maxY:-1,cache:new Map,loading:new Set},tileStyle:"light_nolabels",tileServer:"https://a.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",disposeFns:[],showTileOutlines:!1};function v(a){switch(a){case"light_all":return"https://a.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png";case"dark_all":return"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png";case"voyager":return"https://a.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png";case"light_nolabels":default:return"https://a.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png"}}function M(){let a=h&&h.getBoundingClientRect?h.getBoundingClientRect():o.getBoundingClientRect(),s=Math.max(320,Math.floor(a.width)),r=Math.max(240,Math.floor(a.height));console.debug("[SensorAnim] setCanvasSize",{w:s,h:r,dpr:e.dpr}),n.style.width=s+"px",n.style.height=r+"px",n.width=Math.floor(s*e.dpr),n.height=Math.floor(r*e.dpr);let p=n.getContext("2d");if(!p){console.error("[SensorAnim] setCanvasSize: 2D context is null");return}if(p.setTransform(e.dpr,0,0,e.dpr,0,0),c){let L=H()||c.bbox;e.scaler=Z(L,n.width/e.dpr,n.height/e.dpr,24),e.showBasemap&&P()}}function I(){return c?H()||c.bbox:null}function P(){if(!c)return;let a=Math.floor(n.width/e.dpr),s=Math.floor(n.height/e.dpr);if(a<64||s<64)return;let r=H()||c.bbox,p=me(r,a,s,17,4),L=Y(r.minLon,p),z=Y(r.maxLon,p),k=j(r.maxLat,p),T=j(r.minLat,p),K=256,R=(z-L+1)*(T-k+1);for(;R>K&&p>4;)p-=1,L=Y(r.minLon,p),z=Y(r.maxLon,p),k=j(r.maxLat,p),T=j(r.minLat,p),R=(z-L+1)*(T-k+1);e.tiles.zoom=p,e.tiles.minX=L,e.tiles.maxX=z,e.tiles.minY=k,e.tiles.maxY=T,console.debug("[SensorAnim] basemap tiles compute",{width:a,height:s,bbox:r,zoom:p,minX:L,maxX:z,minY:k,maxY:T,count:R});for(let $=L;$<=z;$++)for(let D=k;D<=T;D++){let C=`${p}/${$}/${D}`;if(e.tiles.cache.has(C)||e.tiles.loading.has(C))continue;let N=e.tileServer.replace("{z}",String(p)).replace("{x}",String($)).replace("{y}",String(D)),q=new Image;e.tiles.loading.add(C),q.onload=()=>{e.tiles.loading.delete(C),e.tiles.cache.set(C,q),console.debug("[SensorAnim] basemap tile loaded",C),F()},q.onerror=()=>{e.tiles.loading.delete(C),e.tiles.cache.set(C,"error"),console.warn("[SensorAnim] basemap tile failed",C)},console.debug("[SensorAnim] basemap request",{key:C,url:N}),q.src=N}}function E(a){let s=e.tiles,r=s.zoom;if(s.maxX<s.minX||s.maxY<s.minY)return;let p=0,L=0,z=0;for(let k=s.minX;k<=s.maxX;k++)for(let T=s.minY;T<=s.maxY;T++){let K=`${r}/${k}/${T}`,R=s.cache.get(K);if(!R||R==="error"){L++;continue}let $=ee(k,r),D=ee(k+1,r),C=te(T,r),N=te(T+1,r),q=e.scaler.x($),U=e.scaler.y(C),we=e.scaler.x(D),ve=e.scaler.y(N),G=we-q,J=ve-U;if(G<=0||J<=0){z++;continue}a.drawImage(R,q,U,G,J),e.showTileOutlines&&(a.save(),a.strokeStyle="rgba(0,0,0,0.35)",a.lineWidth=.75*e.dpr,a.strokeRect(q,U,G,J),a.restore()),p++}console.debug("[SensorAnim] basemap draw",{drawn:p,missing:L,skipped:z})}let B=[],fe=500,ne={log:console.log,debug:console.debug,warn:console.warn,error:console.error};function ge(a){let s=new Date().toISOString().split("T")[1].replace("Z","");B.push(`${s} ${a}`),B.length>fe&&B.shift(),i&&i.style.display!=="none"&&(i.textContent=B.join(`
`),i.scrollTop=i.scrollHeight)}function he(){let a=s=>{if(s instanceof Error)return s.stack||`${s.name||"Error"}: ${s.message||""}`;if(typeof s=="string")return s;if(typeof s=="number"||typeof s=="boolean"||s==null)return String(s);try{return JSON.stringify(s)}catch{return Object.prototype.toString.call(s)}};["log","debug","warn","error"].forEach(s=>{console[s]=function(...r){try{let p=r.map(a).join(" ");p.includes("[SensorAnim]")&&ge(p)}catch{}return ne[s].apply(console,r)}})}function ye(){Object.assign(console,ne)}function xe(a){if(!(!c||!e.scaler)){a.save(),a.fillStyle="rgba(30,41,59,0.6)";for(let{lon:s,lat:r}of c.sensors.values()){let p=e.scaler.x(s),L=e.scaler.y(r);a.beginPath(),a.arc(p,L,2,0,Math.PI*2),a.fill()}a.restore()}}function _(a){let s=new Date(a);return isNaN(s)?String(a):s.toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function F(){if(!c)return;let a=n.getContext("2d");if(!a){console.error("[SensorAnim] drawCurrent: 2D context is null");return}let s=c.times[e.index],r=c.frames.get(s)||[];console.debug("[SensorAnim] drawCurrent",{index:e.index,timeKey:s,points:r.length}),a.clearRect(0,0,n.width,n.height),e.showBasemap&&E(a);let p=I();ue(a,e.scaler,r,c.minVal,c.maxVal,e.dpr,!!e.logScale),e.showSensors&&xe(a),m.textContent=_(s)+" | pts: "+r.length+" | "+n.width/e.dpr+"x"+n.height/e.dpr,a.save(),a.setTransform(1,0,0,1,0,0),a.strokeStyle="#64748b",a.lineWidth=1,a.strokeRect(.5,.5,n.width-1,n.height-1),a.restore(),a.beginPath(),a.arc(n.width/e.dpr/2,n.height/e.dpr/2,3,0,Math.PI*2),a.fillStyle="#22c55e",a.fill()}function oe(a){e.rafId=0;let s=Math.max(.01,Number(e.speed)||1),r=e.msPerFrameBase/s;e.lastTs||(e.lastTs=a),a-e.lastTs>=r&&(e.index=(e.index+1)%c.times.length,f.value=String(e.index),y.textContent=_(c.times[e.index]),e.lastTs=a,F()),e.playing&&(e.rafId=requestAnimationFrame(oe))}function be(){c&&(e.playing||(e.playing=!0,x.textContent="Pause",x.setAttribute("aria-pressed","true"),e.lastTs=0,e.rafId=requestAnimationFrame(oe)))}function ae(){e.playing=!1,x.textContent="Play",x.setAttribute("aria-pressed","false"),e.rafId&&cancelAnimationFrame(e.rafId),e.rafId=0}x.addEventListener("click",()=>{e.playing?ae():be()}),g.addEventListener("change",()=>{e.speed=Number(g.value)}),f.addEventListener("input",()=>{e.index=Number(f.value)||0,y.textContent=c?_(c.times[e.index]):"--",F()}),w&&w.addEventListener("change",()=>{e.showGrid=!!w.checked,F()}),S&&S.addEventListener("change",()=>{e.showBasemap=!!S.checked,console.debug("[SensorAnim] toggle basemap",e.showBasemap),e.showBasemap&&P(),F()}),u&&u.addEventListener("change",()=>{e.tileStyle=u.value,e.tileServer=v(e.tileStyle),e.tiles.cache.clear(),e.tiles.loading.clear(),console.debug("[SensorAnim] style change",e.tileStyle),P(),F()}),l&&l.addEventListener("change",()=>{e.showTileOutlines=!!l.checked,console.debug("[SensorAnim] toggle tile outlines",e.showTileOutlines),F()}),d&&d.addEventListener("change",()=>{e.showSensors=!!d.checked,F()}),b&&b.addEventListener("change",()=>{e.logScale=!!b.checked,console.debug("[SensorAnim] toggle logScale",e.logScale),F()}),A&&A.addEventListener("change",()=>{let a=!!A.checked;console.debug("[SensorAnim] toggle debug console",a),a?(i.style.display="block",i.textContent=B.join(`
`),i.scrollTop=i.scrollHeight):i.style.display="none"});let se=()=>{M(),F()};window.addEventListener("resize",se),e.disposeFns.push(()=>window.removeEventListener("resize",se)),he(),e.disposeFns.push(ye),(async()=>{try{m.textContent="Loading data\u2026",console.debug("[SensorAnim] async init start"),await le(),M(),f.max=String(Math.max(0,c.times.length-1));let a=0;for(let r=0;r<c.times.length;r++){let p=c.times[r];if((c.frames.get(p)||[]).length>0){a=r;break}}f.value=String(a),e.index=a;let s=I()||c.bbox;e.scaler=Z(s,n.width/e.dpr,n.height/e.dpr,24),e.showBasemap&&P();try{y.textContent=_(c.times[e.index])}catch(r){console.warn("[SensorAnim] time label update failed",r)}F();try{m.textContent=_(c.times[e.index])}catch(r){console.warn("[SensorAnim] overlay update failed",r)}console.debug("[SensorAnim] async init done")}catch(a){if(console.error("[SensorAnim] init error",a),c&&c.times&&c.times.length>0){let s=_(c.times[e.index]||"");try{m.textContent=s||""}catch{}try{y.textContent=s||""}catch{}x.disabled=!1}else m.textContent="Failed to load sensor data. See console.",x.disabled=!0}})();let ie={unmount(){ae();for(let a of e.disposeFns)try{a()}catch{}X.delete(o),o.innerHTML=""},showConsole(a=!0){i&&(i.style.display=a?"block":"none",a&&(i.textContent=B.join(`
`),i.scrollTop=i.scrollHeight))}};return X.set(o,ie),ie}let W={mount:pe};try{Object.defineProperty(window,"SensorAnim",{value:W,writable:!1,configurable:!1})}catch{window.SensorAnim=W}window.__SensorAnimRef=W,console.debug("[SensorAnim] global assigned",window.SensorAnim);try{setInterval(()=>{if(!window.SensorAnim||typeof window.SensorAnim.mount!="function"){console.warn("[SensorAnim] global missing/changed; restoring reference");try{Object.defineProperty(window,"SensorAnim",{value:window.__SensorAnimRef,writable:!1,configurable:!1})}catch{window.SensorAnim=window.__SensorAnimRef}}},2e3)}catch{}return window.SensorAnim})();})();
